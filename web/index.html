<html>

<head></head>
<body>
    <script src="//cdn.socket.io/socket.io-1.3.7.js"></script>
    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>

    <a href="#" id="fireEvent">Fire Event!</a>
    <a href="#" id="find">Find</a>
    <a href="#" id="findById">Find By Id</a>
    <a href="#" id="update">Update</a>
    <a href="#" id="updateById">Update By Id</a>
    <a href="#" id="removeUser">Remove User</a>
    <a href="#" id="removeUserById">Remove User By Id</a>

    <script>
        (function($) {
            var socket = io.connect('//localhost:3000');

            var x = 0;

            // Creat
            $('#fireEvent').on('click', function(e) {
                e.stopPropagation();

                socket.emit("Event:will-create", {
                    modelName: "User",
                    data: {
                        "username": "DemoUsername" + x,
                        "password" : "password"
                    }
                });

                x++;

            });

            // find
            $('#find').on('click', function(e) {
                e.stopPropagation();

                // query optional for findAll
                socket.emit("Event:will-find", {
                    modelName: "User",
                    query: {
                        username: "DemoUsername1"
                    }
                });

            });
            $('#findById').on('click', function(e) {
                e.stopPropagation();

                var realId = "568b387a25f61b3f50dda399";
                // query optional for findAll
                socket.emit("Event:will-find-by-id", {
                    modelName: "User",
                    id: "sdfsdfsdf"
                });

            });


            $('#update').on('click', function(e) {
                e.stopPropagation();

                // query optional for findAll
                socket.emit("Event:will-update", {
                    modelName: "User",
                    query: {
                        "username" : "DemoUsername0"
                    },
                    data: {
                        "username" : "balls2"
                    }
                });

            });
            $('#updateById').on('click', function(e) {
                e.stopPropagation();

                // query optional for findAll
                socket.emit("Event:will-update-by-id", {
                    modelName: "User",
                    id: "568b387a25f61b3f50dda399",
                    data: {
                        "username" : "thisIsACoolName"
                    }
                });

            });

            $('#removeUser').on('click', function(e) {
                e.stopPropagation();

                // query optional for findAll
                socket.emit("Event:will-delete", {
                    modelName: "User",
                    query: {
                        "username" : "DemoUsername11"
                    }
                });

            });
            $('#removeUserById').on('click', function(e) {
                e.stopPropagation();

                // query optional for findAll
                socket.emit("Event:will-delete-by-id", {
                    modelName: "User",
                    id: "568b473fb6ffa12d535e89be"
                });

            });

            socket.on("Event:did-create", function(data) {
                console.log(data);
            });
            socket.on("Event:did-find", function(data) {
                console.log(data);
            });
            socket.on("Event:did-find-by-id", function(data) {
                console.log(data);
            });
            socket.on("Event:did-update", function(data) {
                console.log(data);
            });
            socket.on("Event:did-update-by-id", function(data) {
                console.log(data);
            });
            socket.on("Event:did-delete", function(data) {
                console.log(data);
            });

        })(jQuery);

    </script>
</body>

</html>